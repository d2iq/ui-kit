"use strict";(self.webpackChunk_d2iq_ui_kit=self.webpackChunk_d2iq_ui_kit||[]).push([[9812],{"./packages/donutChart/stories/DonutChart.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,MultipleSegments:()=>MultipleSegments,WithCenterLabelText:()=>WithCenterLabelText,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/donutChart/index.ts"),_design_tokens_build_js_designTokens__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/design-tokens/build/js/designTokens.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const chartWrapper=__webpack_require__("./node_modules/@emotion/css/dist/emotion-css.esm.js").iv`
  max-width: 150px;
`,__WEBPACK_DEFAULT_EXPORT__={title:"Charts/DonutChart",component:_index__WEBPACK_IMPORTED_MODULE_1__.Y},Template=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:chartWrapper},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index__WEBPACK_IMPORTED_MODULE_1__.Y,_extends({data:[{percentage:25,color:_design_tokens_build_js_designTokens__WEBPACK_IMPORTED_MODULE_2__.purple}]},args))),Default={render:Template},WithCenterLabelText={render:Template,args:{label:"25%",text:"1 of 4"}},MultipleSegments={render:Template,args:{data:[{percentage:10,color:_design_tokens_build_js_designTokens__WEBPACK_IMPORTED_MODULE_2__.purple},{percentage:30,color:_design_tokens_build_js_designTokens__WEBPACK_IMPORTED_MODULE_2__.pink},{percentage:20,color:_design_tokens_build_js_designTokens__WEBPACK_IMPORTED_MODULE_2__.blue}]}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  render: Template\n}",...Default.parameters?.docs?.source}}},WithCenterLabelText.parameters={...WithCenterLabelText.parameters,docs:{...WithCenterLabelText.parameters?.docs,source:{originalSource:'{\n  render: Template,\n  args: {\n    label: "25%",\n    text: "1 of 4"\n  }\n}',...WithCenterLabelText.parameters?.docs?.source}}},MultipleSegments.parameters={...MultipleSegments.parameters,docs:{...MultipleSegments.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  args: {\n    data: [{\n      percentage: 10,\n      color: purple\n    }, {\n      percentage: 30,\n      color: pink\n    }, {\n      percentage: 20,\n      color: blue\n    }]\n  }\n}",...MultipleSegments.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithCenterLabelText","MultipleSegments"]},"./packages/donutChart/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>components_DonutChart});var react=__webpack_require__("./node_modules/react/index.js"),designTokens=__webpack_require__("./packages/design-tokens/build/js/designTokens.js"),color=__webpack_require__("./packages/shared/styles/styleUtils/typography/color.ts"),styles_color=__webpack_require__("./packages/shared/styles/color.ts");const DonutChart=({data,label,text,className,"data-cy":dataCy="donutChart"})=>{const radius=100/(2*Math.PI),diameter=2*radius+1.5,circleCenter=diameter/2;return react.createElement("svg",{viewBox:`0 0 ${diameter} ${diameter}`,"data-cy":dataCy,className},react.createElement("circle",{cx:circleCenter,cy:circleCenter,r:radius,fill:"transparent",strokeWidth:1.5,style:{stroke:(0,styles_color.mR)((0,color.LQ)(designTokens.themeBorder),.65)}}),data.map(((datum,i)=>{const{percentage,color}=datum,dashoffset=100-data.slice(0,i).reduce(((acc,curr)=>acc+curr.percentage),0)+25;return react.createElement("circle",{key:i,cx:circleCenter,cy:circleCenter,r:radius,fill:"none",strokeWidth:1.5,strokeDasharray:`${percentage} ${100-percentage}`,strokeDashoffset:dashoffset,style:{stroke:color||designTokens.themeBrandPrimary}})})),react.createElement("text",{x:circleCenter,y:circleCenter,style:{textAnchor:"middle"}},react.createElement("tspan",{dominantBaseline:text?"unset":"central",fontSize:6,"data-cy":"donutChart-label"},label),text&&react.createElement("tspan",{x:circleCenter,y:circleCenter+3*1.4,fontSize:3,className:color.Zp,"data-cy":"donutChart-text"},text)))},components_DonutChart=react.memo(DonutChart);try{DonutChart.displayName="DonutChart",DonutChart.__docgenInfo={description:"",displayName:"DonutChart",props:{data:{defaultValue:null,description:"Objects that define the size and color of segments in the donut chart",name:"data",required:!0,type:{name:"DonutChartDatum[]"}},label:{defaultValue:null,description:"The primary piece of data in the chart - appears large",name:"label",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"A caption for the label",name:"text",required:!1,type:{name:"string"}},"data-cy":{defaultValue:null,description:"Human-readable selector used for writing tests",name:"data-cy",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Allows custom styling",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/donutChart/components/DonutChart.tsx#DonutChart"]={docgenInfo:DonutChart.__docgenInfo,name:"DonutChart",path:"packages/donutChart/components/DonutChart.tsx#DonutChart"})}catch(__react_docgen_typescript_loader_error){}},"./packages/shared/styles/color.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$n:()=>lighten,XV:()=>pickHoverBg,_j:()=>darken,mR:()=>hexToRgbA,uu:()=>getTextColor});var relative_luminance__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/relative-luminance/dist/index.m.js");const isValidHex=color=>/^#([A-Fa-f0-9]{3}){1,2}$/.test(color),hexToRgbArr=hex=>{let color;return isValidHex(hex)?(color=hex.substring(1).split(""),3===color.length&&(color=[color[0],color[0],color[1],color[1],color[2],color[2]]),color="0x"+color.join(""),[color>>16&255,color>>8&255,255&color]):[0,0,0]},hexToRgbA=(hex,alpha=1)=>isValidHex(hex)?`rgba(${hexToRgbArr(hex).join(",")},${alpha})`:"rgba(0,0,0,0)",getHexContrast=(color1,color2)=>{return luminanceVal1=(0,relative_luminance__WEBPACK_IMPORTED_MODULE_0__.Z)(hexToRgbArr(color1)),luminanceVal2=(0,relative_luminance__WEBPACK_IMPORTED_MODULE_0__.Z)(hexToRgbArr(color2)),(Math.max(luminanceVal1,luminanceVal2)+.05)/(Math.min(luminanceVal1,luminanceVal2)+.05);var luminanceVal1,luminanceVal2},getTextColor=(bgColor,darkTextColor,lightTextColor)=>{const getContrast=(f,b)=>{const getLuminance=hexColor=>{const getsRGB=c=>{const rgb=(c=>parseInt(c,16)||c)(c)/255;return rgb<=.03928?rgb/12.92:Math.pow((rgb+.055)/1.055,2.4)};return.2126*getsRGB(hexColor.slice(1,3))+.7152*getsRGB(hexColor.slice(3,5))+.0722*getsRGB(hexColor.slice(5,7))},L1=getLuminance(f),L2=getLuminance(b);return(Math.max(L1,L2)+.05)/(Math.min(L1,L2)+.05)},contrastWithDarkText=getContrast(bgColor,darkTextColor);return getContrast(bgColor,lightTextColor)>=4.5&&contrastWithDarkText<4.5?lightTextColor:contrastWithDarkText>4.5?darkTextColor:lightTextColor},pickHoverBg=(bgColor,baseHoverBg,invertedHoverBg)=>getHexContrast(bgColor,baseHoverBg)>getHexContrast(bgColor,invertedHoverBg)?invertedHoverBg:baseHoverBg,mixHex=(color1,color2,percent)=>{const color1rgb=hexToRgbArr(color1),color2rgb=hexToRgbArr(color2);if(isValidHex(color1)&&isValidHex(color2)){const blendedRgbArr=color1rgb.map(((_,i)=>Math.floor(color2rgb[i]+(color1rgb[i]-color2rgb[i])*(percent/100))));return 3===(rgbArr=blendedRgbArr).length&&rgbArr.some((channel=>channel>-1&&channel<256))?rgbArr.reduce(((acc,curr)=>{let pair=Math.round(curr).toString(16);return pair.length<2&&(pair=`0${pair}`),acc+pair}),"#"):"#000000"}var rgbArr;return isValidHex(color1)?color1:isValidHex(color2)?color2:"#000000"},lighten=(color,step)=>mixHex("#FFFFFF",color,[10,20,40,80,95][step-1]),darken=(color,step)=>mixHex("#000000",color,[10,20,40,60,80][step-1])},"./node_modules/relative-luminance/dist/index.m.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=.2126,t=.7152,n=.0722,u=1/12.92;function a(r){return Math.pow((r+.055)/1.055,2.4)}function __WEBPACK_DEFAULT_EXPORT__(e){var o=e[0]/255,f=e[1]/255,c=e[2]/255,i=o<=.03928?o*u:a(o),p=f<=.03928?f*u:a(f),v=c<=.03928?c*u:a(c);return i*r+p*t+v*n}}}]);